{"version":3,"sources":["webpack:///./src/views/message/Message.vue","webpack:///src/views/message/Message.vue","webpack:///./src/views/message/Message.vue?1a7f","webpack:///./src/views/message/Message.vue?7204","webpack:///./src/views/message/Message.vue?a06a"],"names":["render","_vm","this","_c","_self","staticClass","attrs","on","$event","$router","back","_m","staticRenderFns","require","_v","mounted","methods","init","setTimeout","texts","txt","x","y","color","ctx","window","canvas","nowColor","btn","input","update","component"],"mappings":"yHAAA,IAAIA,EAAS,WAAkB,IAAIC,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAACE,YAAY,WAAW,CAACF,EAAG,cAAc,CAACG,MAAM,CAAC,MAAQ,MAAM,YAAY,KAAK,aAAa,IAAIC,GAAG,CAAC,aAAa,SAASC,GAAQ,OAAOP,EAAIQ,QAAQC,WAAWT,EAAIU,GAAG,IAAI,IAErPC,EAAkB,CAAC,WAAY,IAAIX,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAACE,YAAY,aAAa,CAACF,EAAG,MAAM,CAACG,MAAM,CAAC,IAAMO,EAAQ,QAA6B,IAAM,MAAMV,EAAG,UAAUA,EAAG,MAAM,CAACE,YAAY,QAAQ,CAACF,EAAG,QAAQ,CAACG,MAAM,CAAC,KAAO,OAAO,MAAQ,GAAG,UAAY,KAAK,YAAc,aAAaH,EAAG,SAAS,CAACF,EAAIa,GAAG,UAAUX,EAAG,QAAQ,CAACE,YAAY,QAAQC,MAAM,CAAC,KAAO,QAAQ,MAAQ,iBCepY,GACfS,UACA,aAEAC,SACAC,OACA,wCACA,mCACA,mCACA,mCACA,qBAEA,cAEA,KAGA,8CAEA,2BACAC,gBACAC,QACAC,SACAC,UACAC,iCACAC,WAEA,KAkCA,aACAC,kCAEA,2BACAL,UACA,2BAGAA,cACAK,oBACAA,oBACAA,4BAEAC,gCA5CAC,YACAA,aAEAH,iCACAI,YAEAC,gCAEA,gFAGA,OAFA,mCACAC,YAIA,cACA,QACAA,WAEAV,QACAC,MACAC,UACAC,iCACAC,aAIAM,iCACA,eACAD,YAkBAE,OC7FgW,I,wBCQ5VC,EAAY,eACd,EACA/B,EACAY,GACA,EACA,KACA,WACA,MAIa,aAAAmB,E,oECnBf","file":"js/chunk-c50ac5c2.93075723.js","sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"message\"},[_c('van-nav-bar',{attrs:{\"title\":\"留言板\",\"left-text\":\"返回\",\"left-arrow\":\"\"},on:{\"click-left\":function($event){return _vm.$router.back()}}}),_vm._m(0)],1)\n}\nvar staticRenderFns = [function (){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"container\"},[_c('img',{attrs:{\"src\":require(\"../../assets/img/logo.png\"),\"alt\":\"\"}}),_c('canvas'),_c('div',{staticClass:\"send\"},[_c('input',{attrs:{\"type\":\"text\",\"value\":\"\",\"maxlength\":\"20\",\"placeholder\":\"一起来留言吧~\"}}),_c('button',[_vm._v(\"发送\")])]),_c('input',{staticClass:\"color\",attrs:{\"type\":\"color\",\"value\":\"#FF0000\"}})])\n}]\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"message\">\r\n    <van-nav-bar title=\"留言板\" left-text=\"返回\" left-arrow @click-left=\"$router.back()\" />\r\n    <div class=\"container\">\r\n      <!-- <video src=\"../../assets/video/video2.mp4\" controls loop autoplay></video> -->\r\n      <img src=\"../../assets/img/logo.png\" alt=\"\">\r\n      <canvas></canvas>\r\n      <div class=\"send\">\r\n        <input type=\"text\" value=\"\" maxlength=\"20\" placeholder=\"一起来留言吧~\">\r\n        <button>发送</button>\r\n      </div>\r\n      <input type=\"color\" class=\"color\" value=\"#FF0000\">\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  mounted() {\r\n    this.init()\r\n  },\r\n  methods: {\r\n    init() {\r\n      const input = document.querySelector(\"input\");\r\n      const btn = document.querySelector(\"button\");\r\n      const color = document.querySelector(\".color\");\r\n      const canvas = document.querySelector('canvas');\r\n      const ctx = canvas.getContext('2d');\r\n\r\n      var nowColor = color.value;\r\n      var time = 1;\r\n      var texts = [];\r\n\r\n\r\n      let start = ['和新媒体一起做最好的自己', '国家安全人民安全', '国家安全与大众同行']\r\n\r\n      for (let i = 0; i < start.length; i++) {\r\n        setTimeout(() => {\r\n          texts.push({\r\n            txt: start[i],\r\n            x: canvas.width,\r\n            y: Math.random() * (canvas.height - 16) + 16,\r\n            color: nowColor\r\n          })\r\n        }, 1000)\r\n      }\r\n\r\n      canvas.width = 375;\r\n      canvas.height = 500;\r\n\r\n      color.addEventListener('change', () => {\r\n        nowColor = color.value;\r\n      })\r\n      btn.addEventListener('click', () => {\r\n\r\n        if (localStorage.getItem('userInfo') == '' || localStorage.getItem('userInfo') == null) {\r\n          this.$toast.fail('请登录后进行留言~')\r\n          input.value = ''\r\n          return\r\n        }\r\n\r\n        let nowTxt = input.value;\r\n        if (nowTxt != '') {\r\n          input.value = '';\r\n\r\n          texts.push({\r\n            txt: nowTxt,\r\n            x: canvas.width,\r\n            y: Math.random() * (canvas.height - 16) + 16,\r\n            color: nowColor\r\n          })\r\n        }\r\n      })\r\n      input.addEventListener('keydown', e => {\r\n        if (e.keyCode == 13) {\r\n          btn.click();\r\n        }\r\n      })\r\n      function update() {\r\n        ctx.clearRect(0, 0, canvas.width, canvas.height);\r\n\r\n        for (let i = 0; i < texts.length; i++) {\r\n          texts[i].x -= 1;\r\n          if (texts[i].x < -500) texts.splice(i, 1);\r\n        }\r\n\r\n        texts.forEach(item => {\r\n          ctx.font = \"22px Arial\";\r\n          ctx.fillStyle = item.color;\r\n          ctx.fillText(item.txt, item.x, item.y);\r\n        })\r\n        window.requestAnimationFrame(update);\r\n      }\r\n      update();\r\n\r\n\r\n\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.message {\r\n  width: 100vw;\r\n}\r\n\r\n.container {\r\n  position: relative;\r\n  width: 100vw;\r\n  overflow: hidden;\r\n}\r\n\r\nvideo,\r\nimg {\r\n  width: 100vw;\r\n  object-fit: cover;\r\n  border: 2px outset rgb(211, 211, 211);\r\n}\r\n\r\n.send {\r\n  height: 45px;\r\n  padding: 0 3px;\r\n}\r\n\r\n.send>input {\r\n  float: left;\r\n  height: 100%;\r\n  width: calc(100% - 60px);\r\n  outline: none;\r\n  padding-left: 1em;\r\n  border-radius: 5px 0 0 5px;\r\n  border: 1px solid rgb(155, 155, 155);\r\n}\r\n\r\n.send>button {\r\n  float: left;\r\n  height: 100%;\r\n  width: 60px;\r\n  border-radius: 0 5px 5px 0;\r\n  border: none;\r\n  cursor: pointer;\r\n  background-color: rgb(22, 162, 255);\r\n  color: #fff;\r\n  letter-spacing: 3px;\r\n  box-shadow: 1px 1px 1px rgb(75, 75, 75),\r\n    inset 1px 1px 1px white;\r\n}\r\n\r\n.send>button:active {\r\n  box-shadow: inset 1px 1px 1px rgb(75, 75, 75),\r\n    1px 1px 1px white;\r\n}\r\n\r\n.color {\r\n  position: absolute;\r\n  bottom: 1px;\r\n  right: 65px;\r\n  width: 45px;\r\n  height: 43px;\r\n  border: none;\r\n}\r\n\r\ncanvas {\r\n  pointer-events: none;\r\n  position: absolute;\r\n  top: 0;\r\n  left: 0;\r\n  z-index: 999;\r\n}\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Message.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Message.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Message.vue?vue&type=template&id=eb93800e&scoped=true&\"\nimport script from \"./Message.vue?vue&type=script&lang=js&\"\nexport * from \"./Message.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Message.vue?vue&type=style&index=0&id=eb93800e&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"eb93800e\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Message.vue?vue&type=style&index=0&id=eb93800e&prod&scoped=true&lang=css&\""],"sourceRoot":""}